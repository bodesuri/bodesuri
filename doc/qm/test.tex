\documentclass[12pt,halfparskip]{scrartcl}

\newcommand{\dokumenttitel}{Tests}
\usepackage{../bodesuri}
\usepackage{multicol}


\begin{document}

\input{../titelseite}
\section{Voraussetzungen} % (fold)
\label{sec:voraussetzungen}
\begin{itemize}
	\item Die Tests werden alle im Vierspielermodus durchgeführt.
	\item Bots werden nur für Tests eingesetzt, welche sie reproduzierbar ein weiteres Mal durchlaufen können.
	\item Netzwerkverkehr und Netzwerkauslastung werden gezielt und reproduzierbar mit dem Tool iperf simuliert.
	\item Bei vermuteten TCP/IP Problemen wird Wireshark als Sniffer verwendet und die aufgezeichneten Datenströme abgespeichert.
	\item Ein Test wird erst begonnen, wenn sein Vorgänger erfolgreich durchgeführt wurde.
\end{itemize}
% section voraussetzungen (end)

\section{Vorbereitungen} % (fold)
\label{sec:vorbereitungen}
\paragraph{Vor allen Tests}\label{ssub:vorbereitungen_vor_allen_tests} % (fold)
	\begin{itemize}
		\item Auf den PCs auf denen der Server und die Clients laufen werden alle Firewalls deaktiviert oder die verwendeten Ports explizit freigeschaltet.
	\end{itemize}
% paragraph vorbereitungen_vor_allen_tests (end)
\paragraph{Vor jeder Test-Iteration}\label{ssub:vorbereitungen_vor_jeder_testiteration} % (fold)
	\begin{itemize}
		\item Testprotokoll zur Ausfüllung vorbereiten.
	\end{itemize}
% paragraph vorbereitungen_vor_jeder_testiteration (end)
% section vorbereitungen (end)

\section{Nachbearbeitungen}\label{sec:nachbearbeitungen} % (fold)
	\paragraph{Nach allen Tests}\label{ssub:nach_allen_tests} % (fold)
		\begin{itemize}
			\item Alle Tests müssen erfolgreich absolviert worden sein.
			\item Alle Unit-Tests funktionieren (Green Bar).
		\end{itemize}
	% paragraph nach_allen_tests (end)
	\paragraph{Nach jeder Test-Iteration}\label{ssub:nach_jeder_test_iteration} % (fold)
		\begin{itemize}
			\item Alle gefundenen Fehler wurden korrigiert.
			\item Alle Unit-Tests funktionieren (Green Bar).
			\item Testprotokoll wurde vollständig ausgefüllt.
		\end{itemize}
	% paragraph nach_jeder_test_iteration (end)
% section nachbearbeitungen (end)

\section{Systemtest} % (fold)
\label{sec:systemtest}

\subsection{Tests anhand der Use-Cases}\label{sub:tests_anhand_der_use_cases} % (fold)

\subsubsection{UC1: Spiel erstellen}\label{sub:uc1_spiel_erstellen} % (fold)
\begin {tabular}{r | p{3cm} | p{8cm} | l}
\toprule
\textbf{UC} & \textbf{Beschreibung} & \textbf{Erwartetes Verhalten} & \textbf{Ergebnis} \\
\midrule
1, 2, 3 & Server-Start \newline erfolgreich & Der Server ist gestartet, funktioniert und ist betriebsbereit. & [Ok|Err] \\
 \cline{3-4} & & Es wird eine Bestätigung ausgegeben, dass der Server läuft. & \\
\midrule
2a & Serer-Start fehlgeschlagen & Es wird eine Fehlermeldung ausgegeben und der Server beendet sich vollständig. & [Ok|Err] \\
 \cline{3-4} & & An den Benutzer wurde eine Fehlermeldung ausgegeben, mit sprechenden Erklärungen und allfälligen Hinweisen die zur Behebung des Problems beitragen. & \\
\midrule
1, 2 & Mehrere Server-Instanzen & Wird ein zweiter Server gestartet wird dem Benutzer mitgeteilt, dass bereites ein anderer Server am laufen ist. & [Ok|Err] \\
\bottomrule
\end{tabular}
% subsubsection uc1_spiel_erstellen (end)

\subsubsection{UC2: Spiel beitreten}\label{sub:uc2_spiel_beitreten} % (fold)
\begin {tabular}{r | p{3cm} | p{8cm} | l}
\toprule
\textbf{UC} & \textbf{Beschreibung} & \textbf{Erwartetes Verhalten} & \textbf{Ergebnis} \\
\midrule
1, 2, 3, 4 & Client verbunden & Der Client hat sich auf den Server verbunden und der Server kennt den Client. & [Ok|Err] \\
 \cline{3-4} & & Der Benutzer ist informiert worden, dass er dem Spiel erfolgreich beigetreten ist. & \\
\midrule
2a & Verbindung fehlgeschlagen & Der Benutzer wird vom System über das Scheitern benachrichtigt. &   \\
\midrule
2b & Server besetzt & Dem Benutzer wird mitgeteilt, dass der Server bereits voll ist. Das laufende Spiel wird nicht beeinflusst. & [Ok|Err] \\
\midrule
*a & Verbindung abgebrochen & Serverprozess beenden (Absturz simulieren). & [Ok|Err]  \\
\cline{3-4} & & Das Spiel wird mit einer Fehlermeldung abgebrochen. Alle Parteien werden über das Ende informiert. & \\
\bottomrule
\end{tabular}
% subsubsection uc2_spiel_beitreten (end)

\subsubsection{UC3: Spiel spielen}\label{sub:uc3_spiel_spielen} % (fold)
\begin {tabular}{r | p{3cm} | p{9cm} | l}
\toprule
\textbf{UC} & \textbf{Beschreibung} & \textbf{Erwartetes Verhalten} & \textbf{Ergebnis} \\
\midrule
1 & Spielbrett initialisiert & Das Spielbrett ist initialisiert und auf allen Clients innerhalb der Zeitlimite von 3s synchronisiert. & [Ok|Err] \\
 \cline{3-4} & & Alle Clients und der Server befinden sich in einem wohldefinierten Zustand. & \\
\midrule
2 & Karten erhalten & Der beteiligte Client hat die Spielkarten erhalten und visualisiert sie korrekt für den Spieler. & [Ok|Err] \\
\midrule
3 & Karten für Tausch auswählen & Vom Benutzer ausgewählte Spielkarten sind visualisiert und als ausgewählt hervorgehoben. & [Ok|Err] \\
 \cline{3-4} & & Dem Spieler wird visuell mitgeteilt, dass das System bereit ist den Kartentausch abzuwickeln. & \\
\midrule
4 & Karten-Tausch übermitteln & Die vom Benutzer getauschten Spielkarten sind an den Server übermittelt und auf dem Client (der die Spielkarten gesendet hat) nicht mehr vorhanden. & [Ok|Err] \\
 \cline{3-4} & & Der Client (der die Spielkarten gesendet hat) hat diejenigen Spielkarten vom Server empfangen, die der Partnerspieler zum Tausch an den Server übermittelt hatte. & \\
 \cline{3-4} & & Für den Spieler werden die Spielkarten nach dem Tausch korrekt visualisiert. & \\
\midrule
5 & Spielzüge visualisieren & Benutzer kann keine spieleingreifende Eingaben tätigen. & [Ok|Err] \\
 \cline{3-4} & & Spielzüge werden korrekt auf dem Client visualisiert. & \\
 \cline{3-4} & & Client ist nach jedem Spielzug zu den anderen Clients synchronisiert. & \\
\midrule
6 & Spielzug auswählen & Vom Benutzer ausgewählte Spielkarte ist visualisiert und als ausgewählt hervorgehoben. & [Ok|Err] \\
 \cline{3-4} & & Spielzug ist vom System erfasst und für den Spieler visuell ersichtlich. & \\
 \cline{3-4} & & TODO: Hier müssen wir später verschiedene Zugerfassungs-Arten aufzeigen und testn. & \\
 \cline{3-4} & & Dem Spieler wird visuell mitgeteilt, dass das System bereit ist den Spielzug durchzuführen. & \\
\bottomrule
\end{tabular}

%\newpage

\begin {tabular}{r | p{3cm} | p{8cm} | l}
\toprule
\textbf{UC} & \textbf{Beschreibung} & \textbf{Erwartetes Verhalten} & \textbf{Ergebnis} \\
\midrule
7, 8, 9 & Spielzug übermitteln & Spielzug ist vom Client validiert worden und gültig. & [Ok|Err] \\
 \cline{3-4} & & Spielzug ist an Server übermittelt. & \\
 \cline{3-4} & & Spielzug wird wird binnen drei Sekunden im Client visualisiert & \\
 \cline{3-4} & & Alle Clients haben den Spielzug visualisiert und sind synchronisiert. & \\
\midrule
6a & Kein Karte spielbar & Dem Server wurde mitgeteilt, dass Spieler diese Runde nicht spielen kann. & [Ok|Err] \\
 \cline{3-4} & & Alle Clients sind synchronisiert. & \\
\midrule
7a & Spielzug ungültig & Benutzer wird über ungültigen Zug benachrichtigt. & [Ok|Err] \\
 \cline{3-4} & & Benutzer weiss, dass er anderen Spielzug auswählen muss. & \\
\midrule
9a a) & Spiel gewonnen & Auf allen Clients und dem Server ist das Spiel beendet. & [Ok|Err] \\
 \cline{3-4} & & Auf allen Clients wird eine Rangliste/Statistik angezeigt. & \\
 \cline{3-4} & & Gewinner (-Team) ist klar ersichtlich. & \\
\midrule
9a b) & Spiel gewonnen & Der Server weiss, dass der Spieler fertig ist. & [Ok|Err] \\
 \cline{3-4} & & Spieler-Status ist auf allen Clients synchronisiert und für Spieler ersichtlich. & \\
 \cline{3-4} & & Der Spieler, der neu fertig ist, kann nun auch die Figuren des Mitpsielers bedienen (wenn er an der Reihe ist). & \\
\midrule
*a) & Benutzer verlässt Spiel & Spiel wird auf allen Clients und dem Server beendet. & [Ok|Err] \\
 \cline{3-4} & & Auf allen Clients wird eine Rangliste/Statistik angezeigt. & \\
 \cline{3-4} & & Gewinner (-Team) ist klar ersichtlich. & \\
\midrule
*b) & Server nicht erreichbar & Benutzer wird vom System benachrichtigt. & [Ok|Err] \\
 \cline{3-4} & & Auf allen Clients wird eine Fehlermeldung angezeigt. & \\
\bottomrule
\end{tabular}
% subsubsection uc3_spiel_spielen (end)

% subsection tests_anhand_der_use_cases (end)

\subsection{Tests anhand der nichtfunktionalen Anforderungen}\label{sub:tests_anhand_der_nichtfunktionalen_anforderungen} % (fold)
\begin {tabular}{l p{11cm} l}
\toprule
\textbf{Nr.} & \textbf{Beschreibung} & \textbf{Eingehalten} \\
\midrule
NF1 & Jeder Spielzug wird nach maximal 3 Sekunden visualisiert. Sprich der Zug wurde an den Server gesendet und vom Server wieder zurückerhalten. & [Ok|Err] \\
NF2 & Spielzustand ist nach jedem Spielzug in allen Clients und auf dem Server konsistent. & [Ok|Err] \\
NF3 & Inkonsistenz führt im Server und auf den Clients zu kontrolliertem Spielabbruch. & [Ok|Err] \\
NF4 & Es können nicht mehrere Spiele pro Server erstellt werden. & [Ok|Err] \\
NF5 & Ein Spiel kann nur mit der genauen Anzahl von vier Spielern gestartet werden. & [Ok|Err] \\
NF6 & Das GUI ist (bis auf die Server-Konfiguration und Verbindungsaufnahme) nur mit der Maus bedienbar. & [Ok|Err] \\
NF7 & Der Server sowie der Client ist uneingeschränkt auf den Plattformen Mac OS X 10.4, Windows XP SP2 und GNU/Linux verwendbar. & [Ok|Err] \\
NF8 & Weder für den Server noch für den Client ist eine Installation oder Konfiguration notwendig. & [Ok|Err] \\
NF9 & Ausser des Spielernamens und der Serverkonfiguration müssen keine Konfigurationen eingegeben werden. & [Ok|Err] \\
\bottomrule
\end{tabular}
% subsection tests_anhand_der_nichtfunktionalen_anforderungen (end)


% section systemtest (end)

\section{Verbesserungsmöglichkeiten} % (fold)
\label{sec:verbesserungsmöglichkeiten}
\subsection{Bekannte Einschränkungen} % (fold)
\label{sub:bekannte_einschränkungen}
bekannte Einschränkungen erwähnen und erläutern
% subsection bekannte_einschränkungen (end)
\subsection{Mögliche Detailverbesserungen} % (fold)
\label{sub:mögliche_detailverbesserungen}
daraus resultierende Verbesserungen beschreiben
% subsection mögliche_detailverbesserungen (end)
% section verbesserungsmöglichkeiten (end)

\end{document}
